{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","index.min.js","client/element-list.js","client/event-dispatcher.js","client/methods.js","client/renderable-element.js","client/rendering-queue.js","index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"module","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","_get","_x","_x2","_x3","_again","object","property","receiver","desc","parent","getter","undefined","Function","getOwnPropertyDescriptor","get","getPrototypeOf","_renderableElementJs","_renderableElementJs2","_eventDispatcherJs","_eventDispatcherJs2","ElementList","_Array","this","events","_elementProperties","cssRules","resolve","promise","Promise","reject","forEach","_initObserver","bind","cssRule","elementObserver","selector","find","_addElements","added","removed","_removeElements","changed","_onChanged","elements","_this","uniqueElements","element","indexOf","push","map","register","filter","renderableElement","concat","trigger","index","_removeElement","pop","destroy","changes","_this2","renderableElements","change","Array","_Array2","___ElementList","_this3","_cssRules","readyPromise","resolveReady","changedPromise","resolveChanged","_createCssRuleObservers","_this4","observers","CssRuleObserver","promises","cssRuleObserver","then","_resolveReady","observer","./event-dispatcher.js","./renderable-element.js",2,"EventDispatcher","allowedEventNames","_allowedEventNames","_eventCallbacks","on","eventName","callback","_validateEventName","args","slice","arguments","c","eventCallback","apply","hasEventListener",3,"methods","if","_if","condition","eval","min-width","width","offsetWidth","max-width","min-height","height","offsetHeight","max-height","min-text-length","innerText","max-text-length","overflow-x","disconnect","attributeName","hasAttribute","removeAttribute","hasOverflow","children","left","offsetLeft","clientWidth","style","window","getComputedStyle","paddingLeft","parseFloat","paddingRight","child","setAttribute","connect","has","selectors","querySelector",4,"_methodsJs","_methodsJs2","RenderableElement","_renderCssRule","_renderMethod","method","methodName","name","methodArguments","passed","attributeAlias","console","log","exists","rule","_instances","_addCssRule","./methods.js",5,"RenderingQueue","elementList","_elementList","_requestAnimationFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","setTimeout","_queue","_render","_timeoutId","wait","clearTimeout","_renderQueue","shift","_renderElement","render",6,"_clientRenderingQueueJs","_clientRenderingQueueJs2","_clientElementListJs","_clientElementListJs2","ElementQuery","addCssRules","elementQuery","document","addEventListener","createElement","body","appendChild","string","getPropertyValue","substring","rules","JSON","parse","./client/element-list.js","./client/rendering-queue.js"],"mappings":"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","file":"index.min.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","!function e(t,n,r){function i(o,u){if(!n[o]){if(!t[o]){var a=\"function\"==typeof require&&require;if(!u&&a)return a(o,!0);if(s)return s(o,!0);var l=new Error(\"Cannot find module '\"+o+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[o].exports}for(var s=\"function\"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function s(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t,n){for(var r=!0;r;){var i=e,s=t,o=n;u=l=a=void 0,r=!1,null===i&&(i=Function.prototype);var u=Object.getOwnPropertyDescriptor(i,s);if(void 0!==u){if(\"value\"in u)return u.value;var a=u.get;return void 0===a?void 0:a.call(o)}var l=Object.getPrototypeOf(i);if(null===l)return void 0;e=l,t=s,n=o,r=!0}},a=e(\"./renderable-element.js\"),l=r(a),c=e(\"./event-dispatcher.js\"),f=r(c),h=function(e){function t(){i(this,t),u(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this),this.events=new f[\"default\"],this._elementProperties=[\"clientWidth\",\"clientHeight\",\"innerText\"]}return s(t,e),o(t,[{key:\"addCssRules\",value:function(e){var t,n=new Promise(function(e,n){t=e});return e.forEach(this._initObserver.bind(this,t)),n}},{key:\"_initObserver\",value:function(e,t){elementObserver(t.selector).find(this._addElements.bind(this,t,e)).added(this._addElements.bind(this,t,e)).removed(this._removeElements.bind(this)).changed(this._elementProperties,this._onChanged.bind(this))}},{key:\"_addElements\",value:function(e,n,r){var i=this,s=[];r.forEach(function(e){return-1===s.indexOf(e)&&s.push(e)}),s.map(function(t){return l[\"default\"].register(t,e)}).filter(function(e){return null!=e}).forEach(function(e){return u(Object.getPrototypeOf(t.prototype),\"push\",i).call(i,e)}),s.length&&(this.concat(s),n(s),this.events.trigger(\"added\",this))}},{key:\"_removeElements\",value:function(e){var t=this.filter(function(t){return-1!==e.indexOf(t.element)});t=t.filter(function(e,n){return t.indexOf(e)==n}),e.forEach(this._removeElement.bind(this))}},{key:\"_removeElement\",value:function(e){var n=this.filter(function(t){return t.element==e}).pop();if(n){n.destroy();var r=this.indexOf(n);u(Object.getPrototypeOf(t.prototype),\"splice\",this).call(this,r,1)}}},{key:\"_onChanged\",value:function(e){var t=this,n=e.map(function(e){var n=e.target,r=t.filter(function(e){return e.element==n}).pop();return r});this.events.trigger(\"changed\",n)}}]),t}(Array);n[\"default\"]=h;!function(e){function t(){var e=this;i(this,t),u(Object.getPrototypeOf(t.prototype),\"constructor\",this).call(this),this._cssRules=[],this.readyPromise=new Promise(function(t,n){e.resolveReady=t}),this.changedPromise=new Promise(function(t,n){e.resolveChanged=t})}return s(t,e),o(t,[{key:\"addCssRules\",value:function(e){this._cssRules=this._cssRules.concat(e);this._createCssRuleObservers.bind(this,e);return this.readyPromise}},{key:\"_createCssRuleObservers\",value:function(e){var t=this,n=e.map(function(e){return new CssRuleObserver(e)}),r=n.map(function(e){return e.readyPromise});r.forEach(function(e){return e.then(t._resolveReady.bind(t))}),n.forEach(function(e){return t.concat(e)})}},{key:\"_resolveReady\",value:function(e){this.resolveReady(e)}}]),t}(Array);t.exports=n[\"default\"]},{\"./event-dispatcher.js\":2,\"./renderable-element.js\":4}],2:[function(e,t,n){\"use strict\";function r(e){return{_allowedEventNames:e,_eventCallbacks:[],on:function(e,t){return this._validateEventName(e),this._eventCallbacks.push({eventName:e,callback:t}),this},trigger:function(e){this._validateEventName(e);for(var t=Array.prototype.slice.call(arguments,1),n=0;n<this._eventCallbacks.length;n++){var r=this._eventCallbacks[n];if(r.eventName==e)if(r.callback.constructor==Array)for(var i=0;i<r.callback.length;i++)r.callback[i].apply(this,t);else r.callback.apply(this,t)}return this},hasEventListener:function(e){for(var t=0;t<this._eventCallbacks.length;t++){var n=this._eventCallbacks[t];if(n.eventName==e)return!0}return!1},_validateEventName:function(e){if(this._allowedEventNames&&-1===this._allowedEventNames.indexOf(e))throw new Error(e+\" is not a valid event name.\")}}}Object.defineProperty(n,\"__esModule\",{value:!0}),n[\"default\"]=r,t.exports=n[\"default\"]},{}],3:[function(require,module,exports){\"use strict\";var methods={\"if\":function _if(condition){return eval(condition)},\"min-width\":function(e){return this.offsetWidth>=e},\"max-width\":function(e){return this.offsetWidth<=e},\"min-height\":function(e){return this.offsetHeight>=e},\"max-height\":function(e){return this.offsetHeight<=e},\"min-text-length\":function(e){return this.innerText.length>=e},\"max-text-length\":function(e){return this.innerText.length<=e},\"overflow-x\":function(e){elementObserver.disconnect();var t=\"overflow-x-\"+e,n=this.hasAttribute(t);n&&this.removeAttribute(t);var r=!1,i=this.children,s=this.offsetLeft,o=this.clientWidth,u=window.getComputedStyle(this);o-=u.paddingLeft?parseFloat(u.paddingLeft):0,o-=u.paddingRight?parseFloat(u.paddingRight):0;for(var a=0;a<i.length;a++){var l=i[a];l.offsetLeft-s+l.offsetWidth>o&&(r=!0)}return n&&this.setAttribute(t,\"\"),elementObserver.connect(),r},has:function(e){return null!==this.querySelector(e)}};module.exports=methods},{}],4:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(\"./methods.js\"),u=r(o),a=function(){function e(t){i(this,e),this._cssRules=[],this.element=t}return s(e,[{key:\"destroy\",value:function(){}},{key:\"render\",value:function(e){this._cssRules.forEach(this._renderCssRule.bind(this))}},{key:\"_renderCssRule\",value:function(e){e.methods.forEach(this._renderMethod.bind(this,e))}},{key:\"_renderMethod\",value:function(e,t){var n=t.name,r=t.arguments,i=u[\"default\"][n].call(this.element,r);i?this.element.hasAttribute(e.attributeAlias)||this.element.setAttribute(e.attributeAlias,\"\"):(this.element.removeAttribute||console.log(this.element),this.element.removeAttribute(e.attributeAlias))}},{key:\"_addCssRule\",value:function(e){var t=this._cssRules.filter(function(t){return t.attributeAlias==e.attributeAlias});0==t.length&&this._cssRules.push(e)}}],[{key:\"register\",value:function(t,n){var r=this._instances.filter(function(e){return e.element==t}).pop();return r?(r._addCssRule(n),null):(r=new e(t),r._addCssRule(n),this._instances.push(r),r)}}]),e}();n[\"default\"]=a,a._instances=[],t.exports=n[\"default\"]},{\"./methods.js\":3}],5:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(\"./event-dispatcher.js\"),u=r(o),a=function(){function e(t){i(this,e),this.events=new u[\"default\"],this._elementList=t,this._requestAnimationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},this._queue=[],this._elementList.events.on(\"added\",this._render.bind(this)),this._elementList.events.on(\"changed\",this._render.bind(this)),this._timeoutId=null}return s(e,[{key:\"_render\",value:function(e){var t=this;e.forEach(function(e){-1===t._queue.indexOf(e)&&t._queue.push(e)});var n=this._queue.length;clearTimeout(this._timeoutId),this._timeoutId=setTimeout(function(){this._requestAnimationFrame.call(window,this._renderQueue.bind(this))}.bind(this),n)}},{key:\"_renderQueue\",value:function(){for(;this._queue.length;){var e=this._queue.shift();this._renderElement(e)}}},{key:\"_renderElement\",value:function(e){var t=this;e.render(function(){return t.events.trigger(\"rendered\",e.element)})}}]),e}();n[\"default\"]=a,t.exports=n[\"default\"]},{\"./event-dispatcher.js\":2}],6:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}function i(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=e(\"./client/rendering-queue.js\"),u=r(o),a=e(\"./client/element-list.js\"),l=r(a),c=function(){function e(){i(this,e),this._elementList=new l[\"default\"];new u[\"default\"](this._elementList)}return s(e,[{key:\"addCssRules\",value:function(e){return this._elementList.addCssRules(e)}},{key:\"rendered\",value:function(e){}}]),e}();window.elementQuery=new c,document.addEventListener(\"DOMContentLoaded\",function(){var e=document.createElement(\"div\");document.body.appendChild(e),e.setAttribute(\"id\",\"element-observer-rules\");var t=window.getComputedStyle(e),n=t.getPropertyValue(\"font-family\");n=n.substring(1,n.length-1);var r=JSON.parse(n);elementQuery.addCssRules(r)})},{\"./client/element-list.js\":1,\"./client/rendering-queue.js\":5}]},{},[6]);\n//# sourceMappingURL=index.min.js.map","import RenderableElement from './renderable-element.js';\nimport EventDispatcher from './event-dispatcher.js';\n\nexport default class ElementList extends Array {\n\n    constructor() {\n        super();\n        this.events = new EventDispatcher();\n        this._elementProperties = ['clientWidth', 'clientHeight', 'innerText'];\n\n    }\n\n    addCssRules(cssRules) {\n        var resolve;\n        var promise = new Promise((r, reject) => {\n            resolve = r;\n        });\n        cssRules.forEach(this._initObserver.bind(this, resolve));\n        return promise;\n    }\n\n    _initObserver(resolve, cssRule) {\n        elementObserver(cssRule.selector)\n            .find(this._addElements.bind(this, cssRule, resolve))\n            .added(this._addElements.bind(this, cssRule, resolve))\n            .removed(this._removeElements.bind(this))\n            .changed(this._elementProperties, this._onChanged.bind(this));\n    }\n\n    _addElements(cssRule, resolve, elements) {\n\n        var uniqueElements = [];\n        elements.forEach((element) => uniqueElements.indexOf(element) === -1 && uniqueElements.push(element));\n\n        uniqueElements.map(\n            (element) => RenderableElement.register(element, cssRule)\n        )\n            .filter(\n            (renderableElement) => renderableElement != null\n        )\n            .forEach(\n            (renderableElement) => super.push(renderableElement)\n        );\n\n        if(uniqueElements.length) {\n            this.concat(uniqueElements);\n            resolve(uniqueElements);\n            this.events.trigger('added', this);\n        }\n    }\n\n    _removeElements(elements) {\n        var removed = this.filter(\n            (renderableElement) => elements.indexOf(renderableElement.element) !== -1\n        );\n        removed = removed.filter(function(renderableElement, index){\n            return removed.indexOf(renderableElement) == index;\n        });\n        elements.forEach(this._removeElement.bind(this));\n    }\n\n    _removeElement(element) {\n        var renderableElement = this.filter(\n            (renderableElement) => renderableElement.element == element\n        ).pop();\n        if(renderableElement){\n            renderableElement.destroy();\n            var index = this.indexOf(renderableElement);\n            super.splice(index, 1);\n        }\n    }\n\n    _onChanged(changes) {\n        //console.log('_onChange')\n        var renderableElements = changes.map((change) => {\n            var target = change.target;\n            var renderableElement = this.filter((renderableElement) => renderableElement.element == target).pop();\n            return renderableElement;\n        });\n        this.events.trigger('changed', renderableElements);\n    }\n}\n\n\n\n\n\n\n\n\nclass ___ElementList extends Array {\n\n    constructor() {\n        super();\n        this._cssRules = [];\n        this.readyPromise = new Promise((resolve, reject) => {\n            this.resolveReady = resolve;\n        });\n        this.changedPromise = new Promise((resolve, reject) => {\n            this.resolveChanged = resolve;\n        });\n    }\n\n    addCssRules(cssRules) {\n        this._cssRules = this._cssRules.concat(cssRules);\n        var renderableElements = this._createCssRuleObservers.bind(this, cssRules);\n        return this.readyPromise;\n    }\n\n    _createCssRuleObservers(cssRules) {\n        var observers = cssRules\n            .map((cssRule) => new CssRuleObserver(cssRule));\n        var promises = observers\n            .map((cssRuleObserver) => cssRuleObserver.readyPromise);\n        promises.forEach((promise) => promise.then(this._resolveReady.bind(this)));\n        observers.forEach((observer) => this.concat(observer))\n    }\n\n    _resolveReady(elements) {\n        this.resolveReady(elements);\n    }\n}\n\n\n/*\nclass CssRuleObserver extends Array {\n\n    constructor(cssRule) {\n        super();\n        this.readyPromise = new Promise((resolve, reject) => {\n            this.resolveReady = resolve;\n        });\n        this._elementProperties = ['clientWidth', 'clientHeight', 'innerText'];\n        this.cssRule = cssRule;\n        this._initObserver();\n    }\n\n    _initObserver() {\n        elementObserver(this.cssRule.selector)\n            .find(this._addElements.bind(this))\n            .added(this._addElements.bind(this))\n            .removed(this._removeElements.bind(this))\n            //.attribute(this._onElements.bind(this, cssRule)) // TODO: is this needed?\n            .change(this._elementProperties, this._onChange.bind(this));\n    }\n\n    _addElements(elements) {\n\n        var uniqueElements = [];\n        elements.forEach((element) => uniqueElements.indexOf(element) === -1 && uniqueElements.push(element));\n\n        uniqueElements.map(\n            (element) => RenderableElement.register(element, this.cssRule)\n        )\n        .filter(\n            (renderableElement) => renderableElement != null\n        )\n        .forEach(\n            (renderableElement) => this.push(renderableElement)\n        );\n\n        uniqueElements.length && this.resolveReady(uniqueElements);\n        this.concat(uniqueElements);\n    }\n\n    _removeElements(elements) {\n        var removed = this.filter(\n            (renderableElement) => elements.indexOf(renderableElement.element) !== -1\n        );\n        removed = removed.filter(function(renderableElement, index){\n            return removed.indexOf(renderableElement) == index;\n        });\n        elements.forEach(this._removeElement.bind(this));\n    }\n\n    _removeElement(element) {\n        var renderableElement = this.filter(\n            (renderableElement) => renderableElement.element == element\n        ).pop();\n        if(renderableElement){\n            renderableElement.destroy();\n            var index = this.indexOf(renderableElement);\n            super.splice(index, 1);\n        }\n    }\n\n    _onChange(changes) {\n        var cssRuleId = this.cssRule.id;\n        var renderableElements = changes.map((change) => {\n            var target = change.target;\n            var renderableElement = this.filter((renderableElement) => renderableElement.element == target).pop();\n            return renderableElement;\n        });\n        //this.events.trigger('changed', renderableElements);\n    }\n}\n\nexport default class ElementList extends Array {\n\n    constructor() {\n        super();\n        this._cssRules = [];\n        this.readyPromise = new Promise((resolve, reject) => {\n            this.resolveReady = resolve;\n        });\n        this.changedPromise = new Promise((resolve, reject) => {\n            this.resolveChanged = resolve;\n        });\n    }\n\n    addCssRules(cssRules) {\n        this._cssRules = this._cssRules.concat(cssRules);\n        var renderableElements = this._createCssRuleObservers.bind(this, cssRules);\n        return this.readyPromise;\n    }\n\n    _createCssRuleObservers(cssRules) {\n        var observers = cssRules\n            .map((cssRule) => new CssRuleObserver(cssRule));\n        var promises = observers\n            .map((cssRuleObserver) => cssRuleObserver.readyPromise);\n        promises.forEach((promise) => promise.then(this._resolveReady.bind(this)));\n        observers.forEach((observer) => this.concat(observer))\n    }\n\n    _resolveReady(elements) {\n        this.resolveReady(elements);\n    }\n}\n*/","/**\n * General purpose event dispatcher.\n *\n * Example:\n *  var dispatcher = new EventDispatcher();\n *  dispatcher.on('my-event', function(){ console.log(arguments); });\n *  dispatcher.trigger('my-event', 'my argument');\n *\n * @returns {Object}\n * @constructor\n */\nexport default function EventDispatcher(allowedEventNames){\n\n    return {\n\n        _allowedEventNames: allowedEventNames,\n\n        _eventCallbacks: [],\n\n        /**\n         * @param {String} eventName\n         * @param {Function|Array} callback\n         * @returns {EventDispatcher}\n         */\n        on: function(eventName, callback){\n            this._validateEventName(eventName);\n            this._eventCallbacks.push(\n                {\n                    eventName: eventName,\n                    callback: callback\n                }\n            );\n            return this;\n        },\n\n        /**\n         * @param {String} eventName\n         * @returns {EventDispatcher}\n         */\n        trigger: function(eventName){\n            this._validateEventName(eventName);\n\n            // Convert arguments to array and remove eventName argument.\n            // Will be passed on as arguments to the callback.\n            var args = Array.prototype.slice.call(arguments, 1);\n\n            // Apply the callbacks that matches eventName\n            for(var c=0; c<this._eventCallbacks.length; c++){\n                var eventCallback = this._eventCallbacks[c];\n                if(eventCallback.eventName == eventName){\n\n                    if(eventCallback.callback.constructor == Array){\n                        for(var i=0; i<eventCallback.callback.length; i++){\n                            eventCallback.callback[i].apply(this, args);\n                        }\n                    }\n                    else {\n                        eventCallback.callback.apply(this, args);\n                    }\n                }\n            }\n\n            return this;\n        },\n\n        /**\n         * @param {String} eventName\n         * @returns {boolean}\n         */\n        hasEventListener: function(eventName){\n            for(var c=0; c<this._eventCallbacks.length; c++){\n                var eventCallback = this._eventCallbacks[c];\n                if(eventCallback.eventName == eventName){\n                    return true;\n                }\n            }\n            return false;\n        },\n\n        _validateEventName: function(eventName){\n            if(this._allowedEventNames && this._allowedEventNames.indexOf(eventName) === -1){\n                throw new Error(eventName + ' is not a valid event name.');\n            }\n        }\n    }\n};\n","var methods = {\n\n    'if': function(condition){\n        return eval(condition);\n    },\n\n    'min-width': function(width){\n        return this.offsetWidth >= width;\n    },\n\n    'max-width': function(width){\n        return this.offsetWidth <= width;\n    },\n\n    'min-height': function(height){\n        return this.offsetHeight >= height;\n    },\n\n    'max-height': function(height){\n        return this.offsetHeight <= height;\n    },\n\n    'min-text-length': function(length){\n        return this.innerText.length >= length;\n    },\n\n    'max-text-length': function(length){\n        return this.innerText.length <= length;\n    },\n\n    'overflow-x': function(args){\n        elementObserver.disconnect();\n        var attributeName = 'overflow-x-' + args;\n        var hasAttribute = this.hasAttribute(attributeName);\n        if(hasAttribute) {\n            this.removeAttribute(attributeName);\n        }\n        var hasOverflow = false;\n        var children = this.children;\n        var left = this.offsetLeft;\n        var width = this.clientWidth;\n        var style = window.getComputedStyle(this);\n        width -= style.paddingLeft ? parseFloat(style.paddingLeft) : 0;\n        width -= style.paddingRight ? parseFloat(style.paddingRight) : 0;\n        for(var c=0; c<children.length; c++){\n            var child = children[c];\n            if((child.offsetLeft - left) + child.offsetWidth > width){\n                hasOverflow = true;\n            }\n        }\n        if(hasAttribute){\n            this.setAttribute(attributeName, '');\n        }\n        elementObserver.connect();\n        return hasOverflow;\n    },\n\n    'has': function(selectors){\n        return this.querySelector(selectors) !== null;\n    }\n};\n\nmodule.exports = methods;","import methods from './methods.js';\n\nexport default class RenderableElement {\n\n    constructor(element) {\n        this._cssRules = [];\n        this.element = element;\n    }\n\n    destroy() {\n        //console.log('Destroy', this.element);\n    }\n\n    render(cssRule) {\n        this._cssRules.forEach(this._renderCssRule.bind(this));\n    }\n\n    _renderCssRule(cssRule) {\n        cssRule.methods.forEach(this._renderMethod.bind(this, cssRule));\n    }\n\n    _renderMethod(cssRule, method) {\n        var methodName = method.name;\n        var methodArguments = method.arguments;\n        var passed = methods[methodName].call(this.element, methodArguments);\n        if(passed){\n            if(!this.element.hasAttribute(cssRule.attributeAlias)) {\n                this.element.setAttribute(cssRule.attributeAlias, '');\n            }\n        }\n        else {\n            if(!this.element.removeAttribute){\n                console.log(this.element)\n            }\n\n            this.element.removeAttribute(cssRule.attributeAlias);\n        }\n    }\n\n    _addCssRule(cssRule){\n        var exists = this._cssRules.filter((rule) => rule.attributeAlias == cssRule.attributeAlias);\n        exists.length == 0 && this._cssRules.push(cssRule);\n    }\n\n    static register(element, cssRule) {\n        var renderableElement = this._instances.filter(\n            (instance) => instance.element == element\n        ).pop();\n        if(renderableElement) {\n            renderableElement._addCssRule(cssRule);\n        }\n        else {\n            renderableElement = new RenderableElement(element);\n            renderableElement._addCssRule(cssRule);\n            this._instances.push(renderableElement);\n            return renderableElement;\n        }\n        return null;\n    }\n}\n\nRenderableElement._instances = [];\n","import EventDispatcher from './event-dispatcher.js';\n\nexport default class RenderingQueue {\n\n    constructor(elementList) {\n\n        this.events = new EventDispatcher();\n\n        this._elementList = elementList;\n\n        this._requestAnimationFrame = window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame ||\n            function(callback){\n                window.setTimeout(callback, 1000 / 60);\n            };\n\n        this._queue = [];\n\n        this._elementList.events.on('added', this._render.bind(this));\n        //this._elementList.events.on('removed', this._render.bind(this));\n        this._elementList.events.on('changed', this._render.bind(this));\n\n        this._timeoutId = null;\n    }\n\n    _render(renderableElements) {\n        renderableElements.forEach(\n            (renderableElement) => { this._queue.indexOf(renderableElement) === -1 && this._queue.push(renderableElement) }\n        );\n\n        var wait = this._queue.length;\n        clearTimeout(this._timeoutId);\n        this._timeoutId = setTimeout(function(){\n            this._requestAnimationFrame.call(window, this._renderQueue.bind(this));\n        }.bind(this), wait);\n    }\n\n    _renderQueue() {\n        while(this._queue.length){\n            var renderableElement = this._queue.shift();\n            this._renderElement(renderableElement);\n        }\n    }\n\n    _renderElement(renderableElement) {\n        renderableElement.render(\n            () => this.events.trigger('rendered', renderableElement.element)\n        )\n    }\n}\n","import RenderingQueue from './client/rendering-queue.js';\nimport ElementList from './client/element-list.js';\n\nclass ElementQuery {\n\n    constructor() {\n        this._elementList = new ElementList();\n        var renderingQueue = new RenderingQueue(this._elementList);\n    }\n\n    addCssRules(cssRules) {\n        return this._elementList.addCssRules(cssRules);\n    }\n\n    rendered(callback) {\n    }\n}\n\nwindow.elementQuery = new ElementQuery();\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    var element = document.createElement('div');\n    document.body.appendChild(element);\n    element.setAttribute('id', 'element-observer-rules');\n    var style = window.getComputedStyle(element);\n    var string = style.getPropertyValue('font-family');\n    string = string.substring(1, string.length-1);\n    var rules = JSON.parse(string);\n    elementQuery.addCssRules(rules);\n});\n"],"sourceRoot":"/source/"}